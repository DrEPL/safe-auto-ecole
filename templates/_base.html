{% load compress %} {% load static %}

<!DOCTYPE html>
<html lang="fr">
  {% include 'partials/head.html' %}

  <body class="w-full mt-[90px] mx-auto">
    {% include 'partials/navigation.html' %}

    <div class="w-full relative mx-auto">
      <div class="group bg-fixed md:bg-background md:bg-bottom bg-no-repeat bg-auto md:bg-cover md:h-[450px] h-[350px] flex items-end pb-8 w-full">
        <div class="absolute inset-0 bg-gradient-to-b from-transparent to-black opacity-30"></div>
        {% comment %} <div class="absolute inset-0" style="background: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.6));"></div> {% endcomment %}
        {% comment %} <img src="{% static 'images/ecolemoto.jpg' %}" alt="" srcset="" /> {% endcomment %}
        <div class="text-white px-8 w-full z-10">
          <h3 class="mx-auto drop-shadow-2xl text-lg font-bold md:text-5xl text-white w-full text-center uppercase" data-aos="fade-up" data-aos-delay="500" data-aos-duration="1000" data-aos-offset="200">MAITRISEZ VOTRE LIBERTé</h3>
          <p class="drop-shadow-2xl mx-auto text-sm mt-4 w-11/12 md:w-7/12 font-light text-center uppercase" data-aos="fade-up" data-aos-delay="600" data-aos-duration="1000">Nous vous accompagnons vers le succès</p>
          <div class="flex justify-center mt-8 items-center mx-auto" data-aos="fade-up" data-aos-delay="700" data-aos-duration="1000">
            <button type="button" class="text-white bg-primary-700 hover:bg-primary-400 focus:outline-none font-medium rounded-lg text-sm px-4 py-2 text-center">Accueil</button>
          </div>
        </div>
      </div>
    </div>    

    <div class="">
      {% block accueil %}

      {% endblock %}

      {% block about %}

      {% endblock %} 

      {% block formations %}

      {% endblock %}

      {% block contact %}

      {% endblock %}

      {% block maps %}

      {% endblock %}
    </div>

    {% include 'footer.html' %}

    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.0/flowbite.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/noframework.waypoints.min.js"></script>
    {% comment %} <script src="{% static 'js/aos.bundle.js' %}"></script> {% endcomment %}
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBNnWyBiWfcMChttyeyg5OyeTPdeUWgcAc&callback=initMap"></script>
    <script>
      AOS.init({
        once: false // Animation ne se reproduit qu'une seule fois
      })
      // Obtenez l'année en cours
      const currentYear = new Date().getFullYear()
      
      function initMap() {
        var location = { lat: -4.262585459173469, lng: 15.260471361378341 }
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 18,
          center: location
        })
        var marker = new google.maps.Marker({
          position: location,
          map: map
        })
      }
      
      // Mettez à jour le texte dans la balise span avec le copyright
      document.getElementById('copyright').innerHTML = `&copy; ${currentYear} <a href="https://www.grandrhemacommunication.cg" class="hover:text-gray-200 font-bold">GRAND RHEMA</a><span class="text-white"> | SAFE</span>. All Rights Reserved, developped by Dr EPL.`
      document.addEventListener('DOMContentLoaded', function () {
        var sections = document.querySelectorAll('section')
      
        sections.forEach(function (section) {
          new Waypoint({
            element: section,
            handler: function (direction) {
              document.querySelectorAll('nav a').forEach(function (link) {
                link.classList.remove('text-primary-700')
                link.classList.add('text-gray-900')
              })
      
              document.querySelector('a[href="#' + section.id + '"]').classList.remove('text-gray-900')
              document.querySelector('a[href="#' + section.id + '"]').classList.add('text-primary-700')
            },
            offset: '25%' // Déclenche le waypoint lorsque le haut de la section atteint 25% de la fenêtre
          })
        })
      })
    </script>
  </body>
</html>
